webpackJsonp([4],{bv6K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{date:"",list:[]}},created:function(){this.$ICAToken&&this.init()},methods:{init:function(){var t=this;function e(t){return t<10?"0"+t:t}this.$ICAToken.latestTimeOfTopAward().call().then(function(n){var a=new Date(1e3*n.toNumber()),r=a.getFullYear(),s=e(a.getMonth()+1),i=e(a.getDate()),o=e(a.getHours()),d=e(a.getMinutes()),l=e(a.getSeconds());t.date=r+"/"+s+"/"+i+" "+o+":"+d+":"+l}),window.tronWeb.transactionBuilder.triggerConstantContract(this.$ICAToken.address,"distributeTopAwards()",{},[],window.tronWeb.defaultAddress.base58).then(function(e){for(var n=window.tronWeb.utils.abi.decodeParams(["addresses","awards"],["address[10]","uint256[10]"],"0x"+e.constant_result[0]),a=n.addresses,r=n.awards,s=0;s<a.length;s++)t.list.push({address:window.tronWeb.address.fromHex(a[s]),awards:r[s].toString().fromSun()})})},draw:function(){var t=this;this.$ICAToken.distributeTopAwards().send().then(function(e){t.$loading(e).then(function(e){e&&t.init()})})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[n("el-table-column",{attrs:{prop:"address",label:"地址",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"awards",label:"奖励",align:"center"}})],1),t._v(" "),n("p",{staticStyle:{color:"#fff"}},[t._v("上次开奖时间："+t._s(t.date))]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.draw}},[t._v("开奖")])],1)},staticRenderFns:[]},s=n("VU/8")(a,r,!1,null,null,null);e.default=s.exports}});